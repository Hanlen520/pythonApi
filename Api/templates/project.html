<!DOCTYPE html>
<html>
    <head>
        <title>API自动化测试用例</title>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        {% set pro_name = tasks['pro_name'] %}
        {% set nginx_api_proxy = tasks['nginx_api_proxy'] %}
        {% set test_case_list = tasks['test_case_list'] %}
        <link href="/{{nginx_api_proxy}}/static/css/bootstrap.min.css" rel="stylesheet">
        <link href="/{{nginx_api_proxy}}/static/css/sweetalert.min.css" rel="stylesheet" />
    </head>

    <body>
        <div id="page-wrapper">
            <div class="header" align="center">
                <h1 class="page-header"> API&nbsp;自&nbsp;动&nbsp;化&nbsp;测&nbsp;试&nbsp;用&nbsp;例&nbsp;-&nbsp;{{pro_name}}&nbsp;项&nbsp;目 </h1>
            </div>
            <div id="page-inner">
               <div class="row">
                  <div class="col-lg-12">

                      <div class="col-xs-12 col-md-8" style="margin-left:5%">
                          <div class="panel panel-default">
                             <div class="panel-heading" align="center" style="font-size:15px; color: #B8860B; font-weight: bold;">
                                 导&nbsp;&nbsp;&nbsp;入&nbsp;&nbsp;&nbsp;用&nbsp;&nbsp;&nbsp;例&nbsp;&nbsp;&nbsp;操&nbsp;&nbsp;&nbsp;作
                             </div>
                             <div class="panel-body">
                                 <form id="import_action_form" class="form-horizontal" enctype="multipart/form-data">
                                    <div class="col-sm-12">
                                        <div class="col-sm-4">
                                            <label style="color: #B8860B; font-weight: bold;">选择用例文件（.xls .xlsx .csv）</label>
                                            <input class="form-control" id="file" type="file" name="file"/>
                                        </div>
                                        <div class="col-sm-3" style="margin-left:5%;">
                                            <label style="color: #B8860B; font-weight: bold;">选择导入方式</label>
                                            <select class="form-control" name="import_method" id="import_method">
                                                <option value="">请 选 择</option>
                                                <option value="batch_insert">批 量 新 增</option>
                                                <option value="all_replace">全 部 替 换</option>
                                                <option value="batch_replace">批 量 替 换</option>
                                            </select>
                                        </div>
                                        <div class="col-sm-3" align="center" style="line-height:70px;">
                                            <a style="margin-left:10%" href="/api_case_tmpl" download="测试用例模板.xlsx"
                                                onMouseOver="this.style.cursor='hand',this.style.color='#FF0000'"
                                                onMouseOut="this.style.color='#006699'">点击下载 测试用例模板
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-sm-12" style="margin-top: 2%">
                                        <div class="col-sm-3" align="center" style="line-height:30px;">
                                            <button id="import_btn" name="import_btn" type="button" class="btn btn-primary"
                                                    data-loading-text="Importing..." onclick="exec_import('{{nginx_api_proxy}}')"> 执行导入
                                            </button>
                                        </div>
                                        <div class="col-sm-3" align="center" style="line-height:35px; font-size:15px;">
                                            <span id="exec_result" style="font-size:15px" class="label label-info"></span>
                                        </div>
                                    </div>
                                 </form>

                             </div>
                          </div>
                      </div>

                  </div>
               </div>

            </div>
        </div>



        <table id='result_table' class="table table-condensed table-bordered table-hover">
            <tr id='header_row' class="text-center btn-primary" style="font-weight: bold;font-size: 15px;">
                <td width="150">用 例 状 态</td>
                <td width="350">用 例 名 称</td>
                <td width="150">类 名 称</td>
                <td width="150">方 法 名 称</td>
                <td width="150">运 行 状 态</td>
                <td width="150">开 始 时 间</td>
                <td width="150">运 行 时 间</td>
                <td width="150">创 建 时 间</td>
            </tr>

        </table>

        <div id='ending'>&nbsp;</div>
        <div style=" position:fixed;right:50px; bottom:30px; width:20px; height:20px;cursor:pointer">
            <a href="#"><span class="glyphicon glyphicon-eject" style = "font-size:30px;" aria-hidden="true"></span></a>
        </div>

        <script src="/{{nginx_api_proxy}}/static/scripts/jquery.min.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/static/scripts/bootstrap.min.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/static/scripts/common.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/static/scripts/project.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/static/scripts/sweetalert.min.js" type="text/javascript"></script>


    </body>
</html>
